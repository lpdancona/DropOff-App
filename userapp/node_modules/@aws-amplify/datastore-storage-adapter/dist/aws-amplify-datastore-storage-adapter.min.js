!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@aws-amplify/core"),require("@aws-amplify/datastore"),require("react-native-sqlite-storage")):"function"==typeof define&&define.amd?define("aws-amplify-datastore-storage-adapter",["@aws-amplify/core","@aws-amplify/datastore","react-native-sqlite-storage"],t):"object"==typeof exports?exports["aws-amplify-datastore-storage-adapter"]=t(require("@aws-amplify/core"),require("@aws-amplify/datastore"),require("react-native-sqlite-storage")):e["aws-amplify-datastore-storage-adapter"]=t(e["@aws-amplify/core"],e["@aws-amplify/datastore"],e["react-native-sqlite-storage"])}(self,((e,t,r)=>(()=>{"use strict";var n={474:t=>{t.exports=e},62:e=>{e.exports=t},835:e=>{e.exports=r}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{function e(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))}function t(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function r(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}a.r(i),a.d(i,{SQLiteAdapter:()=>D});var s=a(474),u=a(62);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l=u.utils.USER,d=u.utils.isNonModelConstructor,f=u.utils.isModelConstructor;function h(e){if(null==e||["string","number","boolean"].includes(c(e)))return e;var t="object"===c(e)&&(Object.getPrototypeOf(e).constructor===Object||d(Object.getPrototypeOf(e).constructor)||f(Object.getPrototypeOf(e).constructor));return Array.isArray(e)||t?JSON.stringify(e):""+e}var p=function(e){if(!e.attributes||!e.attributes.length)return[];var t=e.attributes.find(u.isModelAttributeAuth);return t?t.properties.rules.filter((function(e){return e.ownerField||e.groupsField})).map((function(e){return e.ownerField||e.groupsField})).filter((function(t){return!Object.values(e.fields).find((function(e){return e.name===t}))})):[]};function v(e,t){var r=function(e){return Object.keys(e).map((function(e){return'"'+e+'"'})).join(", ")}(e),o=n(function(e){var t=Object.values(e).map(h);return[t.map((function(){return"?"})).join(", "),t]}(e),2);return['INSERT INTO "'+t+'" ('+r+") VALUES ("+o[0]+")",o[1]]}function y(e,t){var r=n(function(e){var t=[];return[Object.entries(e).filter((function(e){return"id"!==n(e,1)[0]})).map((function(e){var r=n(e,2),o=r[0],a=r[1];return t.push(h(a)),'"'+o+'"=?'})).join(", "),t]}(e),2);return['UPDATE "'+t+'" SET '+r[0]+" WHERE id=?",o(r[1],[e.id])]}function m(e,t){return['SELECT * FROM "'+t+'" WHERE "id" = ?',[e]]}var b={eq:"=",ne:"!=",le:"<=",lt:"<",ge:">=",gt:">"},w={beginsWith:"= 1",contains:"> 0",notContains:"= 0",between:"BETWEEN"},E=function(e){var t=e.field,r=e.operator,n=e.operand,o=function(e,t,r){if(null==r){if("eq"===t)return'"'+e+'" IS NULL';if("ne"===t)return'"'+e+'" IS NOT NULL'}return null}(t,r,n);if(o)return[o,[]];var a=b[r];if(a)return['"'+t+'" '+a+" ?",[n]];var i,s=w[r];if(s){var u=[];switch(r){case"between":i=['"'+t+'" '+s+" "+(u=n).map((function(e){return"?"})).join(" AND "),u];break;case"beginsWith":case"contains":case"notContains":i=['instr("'+t+'", ?) '+s,[n]];break;default:throw new Error("Cannot map predicate to a valid WHERE clause")}return i}};function S(e){var t=[],a=[];return function e(t,a,i){var s,c;if(void 0===a&&(a=[]),void 0===i&&(i=[]),(0,u.isPredicateGroup)(t)){var l=t.type,d=t.predicates,f="",h=!1;switch(l){case"not":h=!0;break;case"and":f="AND";break;case"or":f="OR";break;default:throw new Error("Invalid "+l)}var p=[];try{for(var v=r(d),y=v.next();!y.done;y=v.next()){e(y.value,p,i)}}catch(e){s={error:e}}finally{try{y&&!y.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}a.push((h?"NOT":"")+"("+p.join(" "+f+" ")+")")}else if((0,u.isPredicateObj)(t)){var m=n(E(t),2),b=m[0],w=m[1];a.push(b),i.push.apply(i,o(w))}}(e,t,a),["WHERE "+t.join(" "),a]}var g={ASCENDING:"ASC",DESCENDING:"DESC"};function T(e,t,r,a,i){var s='SELECT * FROM "'+e+'"',u=[];if(t&&t.predicates.length){var c=n(S(t),2),l=c[0],d=c[1];s+=" "+l,u.push.apply(u,o(d))}var f=function(e){void 0===e&&(e=[]);var t=e.map((function(e){var t=e.field,r=e.sortDirection;return'"'+t+'" '+g[r]}));return t.push("_rowid_ "+g.ASCENDING),"ORDER BY "+t.join(", ")}(r);if(s+=" "+f,a){var h=n(function(e,t){void 0===t&&(t=0);var r=[e],n="LIMIT ?";if(t){var o=e*t;r.push(o),n+=" OFFSET ?"}return[n,r]}(a,i),2),p=h[0],v=h[1];s+=" "+p,u.push.apply(u,o(v))}return[s,u]}function O(e,t){return['DELETE FROM "'+t+'" WHERE "id"=?',[e]]}var N=u.utils.traverseModel,x=u.utils.validatePredicate,I=u.utils.isModelConstructor,P=new s.ConsoleLogger("DataStore"),R=function(){function a(e){this.db=e}return a.prototype.setUp=function(r,n,a,i){return e(this,void 0,void 0,(function(){var e,s,c,d=this;return t(this,(function(t){switch(t.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){d.resolve=e,d.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return t.sent(),[2];case 3:this.schema=r,this.namespaceResolver=n,this.modelInstanceCreator=a,this.getModelConstructorByModelName=i,t.label=4;case 4:return t.trys.push([4,7,,8]),e=Object.values(this.schema.namespaces.user.models).some((function(e){return Object.values(e.fields).some((function(e){var t;return null===(t=e.association)||void 0===t?void 0:t.hasOwnProperty("targetNames")}))})),e&&P.error("The SQLite adapter does not support schemas using custom primary key. Set `graphQLTransformer.respectPrimaryKeyAttributesOnConnectionField in `amplify/cli.json` to false to disable custom primary key. To regenerate your API, add or remove an empty newline to your GraphQL schema (to change the computed hash) then run `amplify push`."),[4,this.db.init()];case 5:return t.sent(),f=this.schema,s=Object.keys(f.namespaces).flatMap((function(e){var t=f.namespaces[e],r=e===l;return Object.values(t.models).map((function(e){return function(e,t){void 0===t&&(t=!1);var r=p(e),n=Object.values(e.fields).reduce((function(t,r){if((0,u.isGraphQLScalarType)(r.type)){if("id"===r.name)return o(t,['"id" PRIMARY KEY NOT NULL']);var n='"'+r.name+'" '+function(e){switch(e){case"Boolean":case"Int":case"AWSTimestamp":return"INTEGER";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSJSON":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"TEXT";case"Float":return"REAL";default:throw new Error("unknown type "+e)}}(r.type);return r.isRequired&&(n+=" NOT NULL"),o(t,[""+n])}if((0,u.isModelFieldType)(r.type)){var a='"'+r.name+'" TEXT';if((0,u.isTargetNameAssociation)(r.association)&&!Object.values(e.fields).find((function(e){var t;return e.name===(null===(t=null==r?void 0:r.association)||void 0===t?void 0:t.targetName)}))){var i=r.isRequired?" NOT NULL":"";a+=', "'+r.association.targetName+'" TEXT'+i}return o(t,[""+a])}var s='"'+r.name+'" TEXT';return r.isRequired&&(s+=" NOT NULL"),o(t,[""+s])}),[]);return r.forEach((function(e){n.push(e+" TEXT")})),t&&(n=o(n,['"_version" INTEGER','"_lastChangedAt" INTEGER','"_deleted" INTEGER'])),'CREATE TABLE IF NOT EXISTS "'+e.name+'" ('+n.join(", ")+");"}(e,r)}))})),[4,this.db.createSchema(s)];case 6:return t.sent(),this.resolve(),[3,8];case 7:return c=t.sent(),this.reject(c),[3,8];case 8:return[2]}var f}))}))},a.prototype.clear=function(){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.initPromise=void 0,[2]}}))}))},a.prototype.save=function(o,a){var i,s;return e(this,void 0,void 0,(function(){var e,c,l,d,f,h,p,b,w,E,S,g,T,O,I,R,C,j,A,L,D,M,q,F,W,B,U,_;return t(this,(function(t){switch(t.label){case 0:return e=Object.getPrototypeOf(o).constructor,c=e.name,l=N(e.name,o,this.schema.namespaces[this.namespaceResolver(e)],this.modelInstanceCreator,this.getModelConstructorByModelName),d=Object.values(l).map((function(e){return{modelName:e.modelName,item:e.item,instance:e.instance}})),f=n(m(o.id,c),2),h=f[0],p=f[1],[4,this.db.get(h,p)];case 1:if(b=t.sent(),a&&b&&(w=u.ModelPredicateCreator.getPredicates(a),E=w.predicates,S=w.type,!x(b,S,E)))throw g="Conditional update failed",P.error(g,{model:b,condition:E}),new Error(g);T=[],O=new Set,t.label=2;case 2:t.trys.push([2,8,9,14]),I=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=r(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}(d),t.label=3;case 3:return[4,I.next()];case 4:return(R=t.sent()).done?[3,7]:(C=R.value,j=C.modelName,A=C.item,L=C.instance,D=A.id,M=n(m(D,j),2),q=M[0],F=M[1],[4,this.db.get(q,F)]);case 5:W=t.sent(),B=void 0===W?u.OpType.INSERT:u.OpType.UPDATE,U=W?y(L,j):v(L,j),D!==o.id&&B!==u.OpType.INSERT||(O.add(U),T.push([L,B])),t.label=6;case 6:return[3,3];case 7:return[3,14];case 8:return _=t.sent(),i={error:_},[3,14];case 9:return t.trys.push([9,,12,13]),R&&!R.done&&(s=I.return)?[4,s.call(I)]:[3,11];case 10:t.sent(),t.label=11;case 11:return[3,13];case 12:if(i)throw i.error;return[7];case 13:return[7];case 14:return[4,this.db.batchSave(O)];case 15:return t.sent(),[2,T]}}))}))},a.prototype.load=function(n,o,a){return e(this,void 0,void 0,(function(){var e,i,s,u,c=this;return t(this,(function(t){return e=this.schema.namespaces[n],i=e.relationships[o].relationTypes,s=i.map((function(e){return e.modelName})),u=this.getModelConstructorByModelName(n,o),0===s.length?[2,a.map((function(e){return c.modelInstanceCreator(u,e)}))]:[2,a.map((function(e){var t,n;try{for(var o=r(i),a=o.next();!a.done;a=o.next())delete e[a.value.fieldName]}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return c.modelInstanceCreator(u,e)}))]}))}))},a.prototype.query=function(r,o,a){return e(this,void 0,void 0,(function(){var i,s,c,l,d,f,h,p,v=this;return t(this,(function(y){switch(y.label){case 0:return i=r.name,s=this.namespaceResolver(r),c=o&&u.ModelPredicateCreator.getPredicates(o),l=a&&a.sort&&u.ModelSortPredicateCreator.getPredicates(a.sort),d=a&&a.limit,f=d&&a.page,h=c&&this.idFromPredicate(c),[4,e(v,void 0,void 0,(function(){var e,r,o,a;return t(this,(function(t){switch(t.label){case 0:return h?[4,this.getById(i,h)]:[3,2];case 1:return[2,(e=t.sent())?[e]:[]];case 2:return r=n(T(i,c,l,d,f),2),o=r[0],a=r[1],[4,this.db.getAll(o,a)];case 3:return[2,t.sent()]}}))}))];case 1:return p=y.sent(),[4,this.load(s,r.name,p)];case 2:return[2,y.sent()]}}))}))},a.prototype.getById=function(r,o){return e(this,void 0,void 0,(function(){var e,a,i;return t(this,(function(t){switch(t.label){case 0:return e=n(m(o,r),2),a=e[0],i=e[1],[4,this.db.get(a,i)];case 1:return[2,t.sent()]}}))}))},a.prototype.idFromPredicate=function(e){var t=e.predicates,r=1===t.length&&t.find((function(e){return(0,u.isPredicateObj)(e)&&"id"===e.field&&"eq"===e.operator}));return r&&r.operand},a.prototype.queryOne=function(r,o){return void 0===o&&(o=u.QueryOne.FIRST),e(this,void 0,void 0,(function(){var e,a,i,s,c;return t(this,(function(t){switch(t.label){case 0:return e=r.name,a=n(function(e,t){return e===u.QueryOne.FIRST?["SELECT * FROM "+t+" ORDER BY _rowid_ LIMIT 1",[]]:["SELECT * FROM "+t+" ORDER BY _rowid_ DESC LIMIT 1",[]]}(o,e),2),i=a[0],s=a[1],[4,this.db.get(i,s)];case 1:return[2,(c=t.sent())&&this.modelInstanceCreator(r,c)]}}))}))},a.prototype.delete=function(r,a){return e(this,void 0,void 0,(function(){var e,i,s,c,l,d,f,h,p,v,y,b,w,E,g,N,R,C;return t(this,(function(t){switch(t.label){case 0:return I(r)?(l=r,e=this.namespaceResolver(l),d=l.name,v=a&&u.ModelPredicateCreator.getPredicates(a),h=T(d,v),R=function(e,t){var r='DELETE FROM "'+e+'"',a=[];if(t&&t.predicates.length){var i=n(S(t),2),s=i[0],u=i[1];r+=" "+s,a.push.apply(a,o(u))}return[r,a]}(d,v),[4,this.db.selectAndDelete(h,R)]):[3,3];case 1:return i=t.sent(),[4,this.load(e,l.name,i)];case 2:return[2,[s=t.sent(),s]];case 3:return c=r,l=Object.getPrototypeOf(c).constructor,d=l.name,a?(f=n(m(c.id,d),2),h=f[0],C=f[1],[4,this.db.get(h,C)]):[3,6];case 4:if(void 0===(p=t.sent()))return w="Model instance not found in storage",P.warn(w,{model:c}),[2,[[c],[]]];if(v=u.ModelPredicateCreator.getPredicates(a),y=v.predicates,b=v.type,!x(p,b,y))throw w="Conditional update failed",P.error(w,{model:p,condition:y}),new Error(w);return E=n(O(c.id,d),2),R=E[0],g=E[1],[4,this.db.save(R,g)];case 5:case 7:return t.sent(),[2,[[c],[c]]];case 6:return N=n(O(c.id,d),2),R=N[0],C=N[1],[4,this.db.save(R,C)]}}))}))},a.prototype.batchSave=function(n,o){return e(this,void 0,void 0,(function(){var e,a,i,s,c,l,d,f,h,p,b,w,E;return t(this,(function(t){switch(t.label){case 0:e=n.name,a=[],i=[],s=new Set,c=new Set,l=new Set,d=function(t){var r=N(n.name,f.modelInstanceCreator(n,t),f.schema.namespaces[f.namespaceResolver(n)],f.modelInstanceCreator,f.getModelConstructorByModelName),o=t.id,l=t._deleted,d=r.find((function(e){return e.instance.id===o})).instance;if(l){var h=O(d.id,e);c.add(h),a.push([t,u.OpType.DELETE])}else{var p=m(o,e);s.add(p),i.push(d)}},f=this;try{for(h=r(o),p=h.next();!p.done;p=h.next())b=p.value,d(b)}catch(e){w={error:e}}finally{try{p&&!p.done&&(E=h.return)&&E.call(h)}finally{if(w)throw w.error}}return[4,this.db.batchQuery(s)];case 1:return t.sent().forEach((function(t,r){if(void 0===t){var n=v(i[r],e);l.add(n),a.push([i[r],u.OpType.INSERT])}else{var o=y(i[r],e);l.add(o),a.push([i[r],u.OpType.UPDATE])}})),[4,this.db.batchSave(l,c)];case 2:return t.sent(),[2,a]}}))}))},a}(),C=a(835),j=a.n(C),A="AmplifyDatastore",L=new s.ConsoleLogger("SQLiteDatabase");j().enablePromise(!0),"DEBUG"===s.ConsoleLogger.LOG_LEVEL&&j().DEBUG(!0);const D=new R(new(function(){function o(){}return o.prototype.init=function(){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return this.db?[3,2]:(e=this,[4,j().openDatabase({name:A,location:"default"})]);case 1:e.db=t.sent(),t.label=2;case 2:return[2]}}))}))},o.prototype.createSchema=function(r){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,this.executeStatements(r)];case 1:return[2,e.sent()]}}))}))},o.prototype.clear=function(){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,this.closeDB()];case 1:return e.sent(),L.debug("Deleting database"),[4,j().deleteDatabase({name:A,location:"default"})];case 2:return e.sent(),L.debug("Database deleted"),[2]}}))}))},o.prototype.get=function(r,n){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,this.getAll(r,n)];case 1:return[2,e.sent()[0]]}}))}))},o.prototype.getAll=function(r,o){return e(this,void 0,void 0,(function(){var e,a;return t(this,(function(t){switch(t.label){case 0:return[4,this.db.executeSql(r,o)];case 1:return e=n.apply(void 0,[t.sent(),1]),[2,(a=e[0])&&a.rows&&a.rows.length&&a.rows.raw&&a.rows.raw()||[]]}}))}))},o.prototype.save=function(r,n){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,this.db.executeSql(r,n)];case 1:return e.sent(),[2]}}))}))},o.prototype.batchQuery=function(o){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e=[],[4,this.db.readTransaction((function(t){var a,i;try{for(var s=r(o),u=s.next();!u.done;u=s.next()){var c=n(u.value,2),l=c[0],d=c[1];t.executeSql(l,d,(function(t,r){e.push(r.rows.raw()[0])}),L.warn)}}catch(e){a={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}}))];case 1:return t.sent(),[2,e]}}))}))},o.prototype.batchSave=function(o,a){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,this.db.transaction((function(e){var t,a;try{for(var i=r(o),s=i.next();!s.done;s=i.next()){var u=n(s.value,2),c=u[0],l=u[1];e.executeSql(c,l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(t)throw t.error}}}))];case 1:return e.sent(),a?[4,this.db.transaction((function(e){var t,o;try{for(var i=r(a),s=i.next();!s.done;s=i.next()){var u=n(s.value,2),c=u[0],l=u[1];e.executeSql(c,l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}}))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},o.prototype.selectAndDelete=function(r,o){return e(this,void 0,void 0,(function(){var e,a,i,s,u,c,l;return t(this,(function(t){switch(t.label){case 0:return e=[],a=n(r,2),i=a[0],s=a[1],u=n(o,2),c=u[0],l=u[1],[4,this.db.transaction((function(t){t.executeSql(i,s,(function(t,r){e=r.rows.raw()}),L.warn),t.executeSql(c,l,(function(){}),L.warn)}))];case 1:return t.sent(),[2,e]}}))}))},o.prototype.executeStatements=function(n){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,this.db.transaction((function(e){var t,o;try{for(var a=r(n),i=a.next();!i.done;i=a.next()){var s=i.value;e.executeSql(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}}))];case 1:return e.sent(),[2]}}))}))},o.prototype.closeDB=function(){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return this.db?(L.debug("Closing Database"),[4,this.db.close()]):[3,2];case 1:e.sent(),L.debug("Database closed"),this.db=void 0,e.label=2;case 2:return[2]}}))}))},o}()))})(),i})()));
//# sourceMappingURL=aws-amplify-datastore-storage-adapter.min.js.map